---
title: "抽象化のレベルを揃えていなかった"
date: "2025-01-20"
sourceType: "article"
sourceTitle: "良いコードの書き方"
sourceURL: "https://example.com/clean-code"
tags: ["抽象度の不統一", "設計の浅さ"]
impactLevel: "medium"
---

## 浅かった自分の考え

関数を分割すれば良いコードになると思っていた。「小さい関数 = 良い設計」だと単純に考えていた。

## 浅さが露呈した瞬間（悔しさ）

コードレビューで「この関数は抽象度がバラバラで読みにくい」と指摘された。同じ関数内に、高レベルのビジネスロジックと低レベルの文字列操作が混在していた。関数のサイズだけでなく、抽象度を揃えることの重要性を理解していなかったことに気づいた。

## より深い構造（著者・話者側の論理）

記事では「抽象化のレベルを揃える」という原則が説明されていた：

- **高レベル**：ビジネスロジック、ドメインの概念
- **中レベル**：アルゴリズム、データ構造の操作
- **低レベル**：文字列操作、配列の走査

一つの関数内では、同じレベルの抽象度で統一すべき。異なるレベルが混在すると、読み手の視点が上下に揺さぶられて理解が困難になる。

## 自分の思考の不足

- **抽象度という軸を持っていなかった**：コードの良し悪しを「行数」や「関数の数」でしか測っていなかった
- **読み手の認知負荷を考慮していなかった**：自分が書けることと、他人が読みやすいことは別だという視点が欠けていた
- **階層構造を意識していなかった**：コードには自然な階層があり、それを尊重すべきだという考えがなかった

## 構造の抽象化（再利用できる形）

**パターン名**：「評価軸の欠落」

**構造**：

1. 何かを改善しようとする
2. 一つの簡単な指標（行数、関数数など）だけで判断する
3. より本質的な評価軸（抽象度、認知負荷など）を見落とす
4. 表面的な改善に留まり、本質的な品質向上に至らない

## 転用できる場面

- **文章の推敲**：「短い文 = 良い文章」ではなく、リズム、論理の流れ、読み手の理解度を考慮する
- **プレゼン資料**：「スライド数が少ない = 良い資料」ではなく、情報の粒度、ストーリーの流れを考慮する
- **会議の効率化**：「時間が短い = 良い会議」ではなく、意思決定の質、参加者の納得感を考慮する

## 次に同じ浅さを避けるためのルール

1. **複数の評価軸を持つ**：一つの指標だけで判断せず、少なくとも 3 つの異なる視点から評価する
2. **「なぜそれが良いのか」を問う**：表面的なベストプラクティスを鵜呑みにせず、その背後にある原理を理解する
3. **読み手・受け手の視点を取る**：自分が作りやすいことと、他人が使いやすいことは別だと意識する
